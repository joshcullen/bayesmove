<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Plot breakpoints over a time series of each movement variable — plot_breakpoints • bayesmove</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Plot breakpoints over a time series of each movement variable — plot_breakpoints" />
<meta property="og:description" content="Visualize the breakpoints estimated by the segmentation model as they relate
to either the original (continuous) or discretized data. These plots assist
in determining whether too many or too few breakpoints were estimated as well
as whether the user needs to redefine how they discretized their data before
analysis." />
<meta property="og:image" content="http://joshcullen.github.io/bayesmove/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-151357058-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151357058-2');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bayesmove</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/joshcullen/bayesmove">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot breakpoints over a time series of each movement variable</h1>
    <small class="dont-index">Source: <a href='https://github.com/joshcullen/bayesmove/blob/master/R/segmentation_helper_functions.R'><code>R/segmentation_helper_functions.R</code></a></small>
    <div class="hidden name"><code>plot_breakpoints.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Visualize the breakpoints estimated by the segmentation model as they relate
to either the original (continuous) or discretized data. These plots assist
in determining whether too many or too few breakpoints were estimated as well
as whether the user needs to redefine how they discretized their data before
analysis.</p>
    </div>

    <pre class="usage"><span class='fu'>plot_breakpoints</span><span class='op'>(</span><span class='va'>data</span>, as_date <span class='op'>=</span> <span class='cn'>FALSE</span>, <span class='va'>var_names</span>, var_labels <span class='op'>=</span> <span class='cn'>NULL</span>, <span class='va'>brkpts</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A list where each element stores a data frame for a given animal
ID. Each of these data frames contains columns for the ID, date or time1
generated by <code><a href='filter_time.html'>filter_time</a></code>, as well as each of the movement
variables analyzed by <code><a href='segment_behavior.html'>segment_behavior</a></code>.</p></td>
    </tr>
    <tr>
      <th>as_date</th>
      <td><p>logical. If <code>TRUE</code>, plots breakpoints and data streams
over the date. By default, this is set to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>var_names</th>
      <td><p>A vector of the column names for the movement variables to
be plotted over time.</p></td>
    </tr>
    <tr>
      <th>var_labels</th>
      <td><p>A vector of the labels to be plotted on the y-axis for each
movement variable.  Set to <code>NULL</code> by default.</p></td>
    </tr>
    <tr>
      <th>brkpts</th>
      <td><p>A data frame that contains the breakpoints associated with each
animal ID. This data frame is returned by <code><a href='get_breakpts.html'>get_breakpts</a></code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A line plot per animal ID for each movement variable showing how the estimated
  breakpoints relate to the underlying data. Depending on the user input for
  <code>var_names</code>, this may either be on the scale of the original
  continuous data or the discretized data.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># \donttest{</span>
<span class='co'>#load data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>tracks.list</span><span class='op'>)</span>

<span class='co'>#subset only first track</span>
<span class='va'>tracks.list</span><span class='op'>&lt;-</span> <span class='va'>tracks.list</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span>

<span class='co'>#only retain id and discretized step length (SL) and turning angle (TA) columns</span>
<span class='va'>tracks.list2</span><span class='op'>&lt;-</span> <span class='fu'>purrr</span><span class='fu'>::</span><span class='fu'><a href='https://purrr.tidyverse.org/reference/map.html'>map</a></span><span class='op'>(</span><span class='va'>tracks.list</span>,
                   <span class='va'>subset</span>,
                  select <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>id</span>, <span class='va'>SL</span>, <span class='va'>TA</span><span class='op'>)</span><span class='op'>)</span>


<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>)</span>

<span class='co'># Define model params</span>
<span class='va'>alpha</span><span class='op'>&lt;-</span> <span class='fl'>1</span>
<span class='va'>ngibbs</span><span class='op'>&lt;-</span> <span class='fl'>1000</span>
<span class='va'>nbins</span><span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>5</span>,<span class='fl'>8</span><span class='op'>)</span>

<span class='co'>#future::plan(future::multisession)  #run all MCMC chains in parallel</span>
<span class='va'>dat.res</span><span class='op'>&lt;-</span> <span class='fu'><a href='segment_behavior.html'>segment_behavior</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>tracks.list2</span>, ngibbs <span class='op'>=</span> <span class='va'>ngibbs</span>, nbins <span class='op'>=</span> <span class='va'>nbins</span>,
                           alpha <span class='op'>=</span> <span class='va'>alpha</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 19.469 sec elapsed</div><div class='input'>

<span class='co'># Determine MAP iteration for selecting breakpoints and store breakpoints</span>
<span class='va'>MAP.est</span><span class='op'>&lt;-</span> <span class='fu'><a href='get_MAP.html'>get_MAP</a></span><span class='op'>(</span>dat <span class='op'>=</span> <span class='va'>dat.res</span><span class='op'>$</span><span class='va'>LML</span>, nburn <span class='op'>=</span> <span class='va'>ngibbs</span><span class='op'>/</span><span class='fl'>2</span><span class='op'>)</span>
<span class='va'>brkpts</span><span class='op'>&lt;-</span> <span class='fu'><a href='get_breakpts.html'>get_breakpts</a></span><span class='op'>(</span>dat <span class='op'>=</span> <span class='va'>dat.res</span><span class='op'>$</span><span class='va'>brkpts</span>, MAP.est <span class='op'>=</span> <span class='va'>MAP.est</span><span class='op'>)</span>


<span class='co'>#run function</span>
<span class='fu'>plot_breakpoints</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>tracks.list</span>, as_date <span class='op'>=</span> <span class='cn'>FALSE</span>, var_names <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"step"</span>,<span class='st'>"angle"</span><span class='op'>)</span>,
    var_labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Step Length (m)"</span>, <span class='st'>"Turning Angle (rad)"</span><span class='op'>)</span>, brkpts <span class='op'>=</span> <span class='va'>brkpts</span><span class='op'>)</span>
</div><div class='img'><img src='plot_breakpoints-1.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># }</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Joshua Cullen, Denis Valle.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


